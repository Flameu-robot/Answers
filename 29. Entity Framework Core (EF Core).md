**Entity Framework Core (EF Core)**¬†‚Äî —ç—Ç–æ –æ–±—ä–µ–∫—Ç–Ω–æ-—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ (ORM) –æ—Ç Microsoft –¥–ª—è .NET, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –∏—Å–ø–æ–ª—å–∑—É—è –æ–±—ä–µ–∫—Ç—ã C# –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö SQL-–∑–∞–ø—Ä–æ—Å–æ–≤.
### **–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞¬†**SQL Server, PostgreSQL, MySQL, SQLite, Oracle**¬†–∏ –¥—Ä.
    
- **LINQ**¬†–¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î
    
- **–ê–≤—Ç–æ–º–∏–≥—Ä–∞—Ü–∏–∏**¬†(—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–æ–π –ë–î –∏–∑ –∫–æ–¥–∞)
    
- **–¢—Ä–µ–∫–∏–Ω–≥ –∏–∑–º–µ–Ω–µ–Ω–∏–π**¬†(–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤)
    
- **–õ–µ–Ω–∏–≤–∞—è –∏ –∂–∞–¥–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞**¬†—Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
    
- **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å**¬†(Windows, Linux, macOS)
  
## **üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã EF Core**

### **1. DbContext**

–ì–ª–∞–≤–Ω—ã–π –∫–ª–∞—Å—Å, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π —Å–µ–∞–Ω—Å —Ä–∞–±–æ—Ç—ã —Å –ë–î:

```c#
public class AppDbContext : DbContext
{
    public DbSet<Product> Products { get; set; }
    public DbSet<Category> Categories { get; set; }

    protected override void OnConfiguring(DbContextOptionsBuilder options)
        => options.UseSqlServer("Server=localhost;Database=ShopDb;Trusted_Connection=True;");
}
```

### **2. DbSet**

–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–∞–±–ª–∏—Ü—É –≤ –ë–î(—Å–≤–µ—Ä—Ö—É –≤ –ø—Ä–∏–º–µ—Ä–µ)

### **3. Entity Classes (–°—É—â–Ω–æ—Å—Ç–∏)**

–û–±—ã—á–Ω—ã–µ –∫–ª–∞—Å—Å—ã C#, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã–µ –Ω–∞ —Ç–∞–±–ª–∏—Ü—ã –ë–î:

```c#
public class Product
{
    public int Id { get; set; }         // –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á
    public string Name { get; set; }
    public decimal Price { get; set; }
    public int CategoryId { get; set; } // –í–Ω–µ—à–Ω–∏–π –∫–ª—é—á
    
    [ForeignKey("CategoryId")]
    public Category Category { get; set; } // –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ
}
```

## **üîπ –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ (CRUD)**

### **1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ (Create)**

```c#
using var context = new AppDbContext();

var product = new Product { Name = "Laptop", Price = 999.99m };
context.Products.Add(product);
await context.SaveChangesAsync();
```

### **2. –ß—Ç–µ–Ω–∏–µ (Read)**

```c#
// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤
var products = await context.Products.ToListAsync();

// –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è + —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
var cheapProducts = await context.Products
    .Where(p => p.Price < 100)
    .OrderBy(p => p.Name)
    .ToListAsync();
```

### **3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ (Update)**

```c#
var product = await context.Products.FindAsync(1);
product.Price = 899.99m;
await context.SaveChangesAsync();
```

### **4. –£–¥–∞–ª–µ–Ω–∏–µ (Delete)**

```c#
var product = await context.Products.FindAsync(1);
context.Products.Remove(product);
await context.SaveChangesAsync();
```


## **üîπ –ó–∞–ø—Ä–æ—Å—ã —Å LINQ**

EF Core –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç LINQ –≤ SQL:

```c#
// JOIN –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏
var result = await context.Products
    .Join(context.Categories,
        p => p.CategoryId,
        c => c.Id,
        (p, c) => new { ProductName = p.Name, CategoryName = c.Name })
    .ToListAsync();
```

–ê–Ω–∞–ª–æ–≥ —ç—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –Ω–æ —á–µ—Ä–µ–∑ —Å–∞–º SQL –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:

```sql
SELECT [p].[Name] AS [ProductName], [c].[Name] AS [CategoryName]
FROM [Products] AS [p]
INNER JOIN [Categories] AS [c] ON [p].[CategoryId] = [c].[Id]
```
## **üîπ –ú–∏–≥—Ä–∞—Ü–∏–∏ (Migrations)**

–ú–µ—Ö–∞–Ω–∏–∑–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º—ã –ë–î –ø–æ –º–æ–¥–µ–ª–∏ C#.

### **1. –°–æ–∑–¥–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏**

```c#
dotnet ef migrations add InitialCreate
```

### **2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏**

```c#
dotnet ef migrations add InitialCreate
```

### **3. –û—Ç–∫–∞—Ç –º–∏–≥—Ä–∞—Ü–∏–∏**

```c#
dotnet ef migrations add InitialCreate
```

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ EF –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü

## **üîπ –û—Ç–Ω–æ—à–µ–Ω–∏—è –º–µ–∂–¥—É —Å—É—â–Ω–æ—Å—Ç—è–º–∏**
### **1. –û–¥–∏–Ω-–∫–æ-–º–Ω–æ–≥–∏–º (1:N)**
```c#
public class Category
{
    public int Id { get; set; }
    public string Name { get; set; }
    public List<Product> Products { get; set; } // –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ
}
```

### **2. –ú–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º (N:N)**

```c#
public class Student
{
    public int Id { get; set; }
    public List<Course> Courses { get; set; }
}

public class Course
{
    public int Id { get; set; }
    public List<Student> Students { get; set; }
}
```

## **üîπ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ASP.NET Core**

–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ DI:

```c#
builder.Services.AddDbContext<AppDbContext>(options =>
    options.UseSqlServer(builder.Configuration.GetConnectionString("Default")));
```

–≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ

```c#
[ApiController]
[Route("[controller]")]
public class ProductsController : ControllerBase
{
    private readonly AppDbContext _context;

    public ProductsController(AppDbContext context)
    {
        _context = context;
    }

    [HttpGet]
    public async Task<IActionResult> Get()
    {
        return Ok(await _context.Products.ToListAsync());
    }
}
```

