
![[Pasted image 20250530175952.png]]

## **üîπ –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP-–∑–∞–ø—Ä–æ—Å–∞**

### **1. –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞**

- –ó–∞–ø—Ä–æ—Å –ø–æ—Å—Ç—É–ø–∞–µ—Ç –Ω–∞¬†**–≤–µ–±-—Å–µ—Ä–≤–µ—Ä**¬†(Kestrel, IIS, Nginx)
    
- –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ –æ–±—ä–µ–∫—Ç¬†`HttpContext`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç:
    
    - `HttpRequest`¬†(–≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
        
    - `HttpResponse`¬†(–¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç–≤–µ—Ç–∞)
        
    - `ConnectionInfo`,¬†`User`¬†(–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è) –∏ –¥—Ä—É–≥–∏–µ —Å–≤–æ–π—Å—Ç–≤–∞
      
### **2. –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Middleware Pipeline**

–ó–∞–ø—Ä–æ—Å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã middleware:

```c#
app.UseHttpsRedirection();   // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ HTTPS
app.UseStaticFiles();        // –û—Ç–¥–∞—á–∞ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
app.UseRouting();            // –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
app.UseAuthentication();     // –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
app.UseAuthorization();      // –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
app.MapControllers();        // –í—ã–∑–æ–≤ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤
```

## **üîπ –ü—Ä–∏—ë–º –¥–∞–Ω–Ω—ã—Ö –∏–∑ HTTP-–∑–∞–ø—Ä–æ—Å–∞**

### **1. –ò–∑ URL (Route Data)**

```c#
// GET /products/5
[HttpGet("products/{id}")]
public IActionResult GetById(int id) // id = 5
```
### **2. –ò–∑ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ (Query String)**

```c#
GET /products?page=1&size=20

public IActionResult GetProducts(int page = 1, int size = 10)
// page=1, size=20
```

### **3. –ò–∑ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞ (Body)**

–î–ª—è JSON/XML –¥–∞–Ω–Ω—ã—Ö:
```c#
[HttpPost]
public IActionResult Create([FromBody] ProductDto product)

POST /products
{
  "Name": "Laptop",
  "Price": 999.99
}
```
### **4. –ò–∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (Headers)**

```c#
public IActionResult Get([FromHeader] string apiKey)
GET /data
ApiKey: secret123
```


### **5. –ò–∑ —Ñ–æ—Ä–º—ã (Form Data)**

–î–ª—è¬†`application/x-www-form-urlencoded`¬†–∏–ª–∏¬†`multipart/form-data`:

```c#
[HttpPost]
public IActionResult Upload([FromForm] IFormFile file)
```

### **6. –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–∏–º–µ—Ä**

```c#
[HttpPut("products/{id}")]
public IActionResult Update(
    int id,                 // –∏–∑ URL
    [FromBody] ProductDto product, // –∏–∑ —Ç–µ–ª–∞
    [FromQuery] bool overwrite = false, // –∏–∑ query string
    [FromHeader] string apiVersion) // –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
```


## **üîπ –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ HTTP-–æ—Ç–≤–µ—Ç–∞**

### **1. –ë–∞–∑–æ–≤—ã–µ —Ç–∏–ø—ã –æ—Ç–≤–µ—Ç–æ–≤**

```c#
return Ok(product);          // 200 + JSON
return CreatedAtAction(...); // 201 + Location header
return NoContent();          // 204
return BadRequest();         // 400
return NotFound();           // 404
return Problem(...);         // 500+ —Å –¥–µ—Ç–∞–ª—è–º–∏
```

### **2. –ö–∞—Å—Ç–æ–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã**


```c#

// –ü—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å
return StatusCode(418);

// –û—Ç–≤–µ—Ç —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏
return Ok()
    .WithHeader("X-Custom-Header", "value");

// –§–∞–π–ª—ã
return PhysicalFile("path.pdf", "application/pdf");

// Redirect
return Redirect("https://example.com");
```

### **3. –§–æ—Ä–º–∞—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ (JSON/XML)**

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤¬†`Program.cs`:


```c#

builder.Services.AddControllers()
    .AddXmlSerializerFormatters(); // –ü–æ–¥–¥–µ—Ä–∂–∫–∞ XML
```

## **üîπ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –æ—Ç–≤–µ—Ç–∞**

1. **–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä**¬†—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –æ–±—ä–µ–∫—Ç –æ—Ç–≤–µ—Ç–∞
    
2. **–§–∏–ª—å—Ç—Ä—ã**¬†(–µ—Å–ª–∏ –µ—Å—Ç—å) –º–æ–≥—É—Ç –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç:

3. **Middleware**¬†–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–∂–∞—Ç–∏–µ)
    
4. **–°–µ—Ä–≤–µ—Ä**¬†(Kestrel) –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—É
   
   